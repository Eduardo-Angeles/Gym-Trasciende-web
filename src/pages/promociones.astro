---
/**
 * Promociones - P√°gina de Promociones
 *
 * ESTRUCTURA ESCALABLE:
 * 1. Hero - Promo de febrero
 * 2. Promoci√≥n Temporal (Febrero)
 * 3. Promociones Permanentes - Sin fecha l√≠mite
 * 4. C√≥mo Aprovechar - 3 pasos simples
 * 5. FAQ - Preguntas frecuentes
 * 6. CTA - Final urgente
 */

import Layout from "@layouts/Layout.astro";
import HeroClipped from "@components/sections/HeroClipped.astro";
import SectionContainer from "@components/layout/SectionContainer.astro";
import Subtitle from "@components/ui/Subtitle.astro";
import FAQ from "@components/sections/FAQ.astro";
import CountdownTimer from "@components/ui/CountdownTimer";
import ButtonAnimation from "@components/icons/ButtonAnimation.astro";
import ArrowAnimation from "@components/icons/ArrowAnimation.astro";
import MobileBottomNav from "@components/layout/MobileBottomNav.tsx";
import GalleryLightbox from "@components/media/GalleryLightbox";

// ========== PROMOCI√ìN TEMPORAL (Febrero) ==========
const promosFebrero = [
  {
    id: 1,
    title: "Reto Foto 1",
    badge: "Favorita",
    image: "/promofebrero1.webp",
    description:
      "Imiten esta foto en pareja, s√∫banla a sus redes y etiqueten a @trasciendegym.",
  },
  {
    id: 2,
    title: "Reto Foto 2",
    badge: "Creativa",
    image: "/promofebrero2.webp",
    description:
      "Recrea la pose con tu persona favorita y presume el reto en redes.",
  },
  {
    id: 3,
    title: "Reto Foto 3",
    badge: "Top",
    image: "/promofebrero3.webp",
    description:
      "Misma foto, misma actitud. Etiqueta a Trasciende Gym y gana tu 10%.",
  },
];

const febreroGalleryImages = promosFebrero.map((promo) => ({
  src: promo.image,
  alt: promo.title,
}));

// ========== PROMOCIONES PERMANENTES (Todo el a√±o) ==========
const promosPermanentes = [
  {
    id: 4,
    title: "Inscripci√≥n Gratis",
    price: "$0",
    priceDetail: "de costo de inscripci√≥n",
    savings: "¬°Ahorras $200!",
    icon: "üéÅ",
    features: [
      "Sin costo de inscripci√≥n",
      "V√°lido todo el a√±o",
      "Para cualquier plan",
      "Solo pagas tu mensualidad",
      "Sin letra peque√±a",
    ],
    badge: "Siempre",
    isPermanent: true,
  },
  {
    id: 5,
    title: "Cumplea√±os 10% Off",
    price: "$342",
    priceDetail: "en tu mes de cumplea√±os",
    icon: "üéÇ",
    features: [
      "10% de descuento",
      "V√°lido todo tu mes de cumplea√±os",
      "Presenta identificaci√≥n oficial",
      "Aplica a plan mensual",
      "Renovable cada a√±o",
    ],
    badge: "Especial",
    isPermanent: true,
  },
];

// FAQ sobre promociones
const faqItems = [
  {
    question: "¬øHasta cu√°ndo es v√°lida la promo de febrero?",
    answer:
      "La din√°mica es exclusiva de febrero 2026. Debes subir tu foto y etiquetarnos durante febrero para recibir el 10% en tu siguiente mensualidad.",
  },
  {
    question: "¬øQui√©nes pueden participar?",
    answer:
      "Participan parejas de dos personas. Pueden ser amigos, pareja, hermanos o quien quiera entrenar juntos.",
  },
  {
    question: "¬øQu√© necesito subir en redes?",
    answer:
      "Sube la foto imitando cualquiera de las 3 im√°genes de febrero y etiqueta a @trasciendegym. Ambas personas deben aparecer en la foto.",
  },
  {
    question: "¬øLa inscripci√≥n siempre es gratis?",
    answer:
      "¬°S√≠! La inscripci√≥n es completamente gratis durante todo el a√±o, sin importar qu√© plan elijas. Es nuestro compromiso para que inicies tu transformaci√≥n sin costos ocultos.",
  },
  {
    question: "¬øPuedo combinar promociones?",
    answer:
      "La promo de febrero no es acumulable con otras promociones temporales. S√≠ aplica junto con la inscripci√≥n gratis permanente.",
  },
  {
    question: "¬øC√≥mo funciona el descuento de cumplea√±os?",
    answer:
      "Durante todo tu mes de cumplea√±os obtienes 10% de descuento en tu mensualidad. Solo necesitas presentar una identificaci√≥n oficial que confirme tu fecha de nacimiento. Puedes renovar este beneficio cada a√±o en tu mes.",
  },
  {
    question: "¬øQu√© incluye la membres√≠a mensual?",
    answer:
      "Incluye acceso completo al √°rea de pesas, asesor√≠a personalizada en rutinas, horarios flexibles (Lun-Vie 5am-10pm, S√°b 6:30am-5pm, Dom 12pm-4pm) y todos los beneficios del gimnasio.",
  },
];

// Pasos para aprovechar
const steps = [
  {
    number: 1,
    title: "Elige tu foto",
    description:
      "Seleccionen una de las 3 fotos oficiales de febrero y prep√°rense para imitarla.",
  },
  {
    number: 2,
    title: "Imiten la pose",
    description:
      "Tomen su foto en pareja, cuidando que se vea claramente la pose y la actitud.",
  },
  {
    number: 3,
    title: "Publ√≠quenla y ganen",
    description:
      "Suban la foto a redes, etiqueten a @trasciendegym y obtengan 10% en su pr√≥xima mensualidad.",
  },
];

// Configuraci√≥n de navegaci√≥n m√≥vil
const mobileNavItems = [
  {
    id: "promos-febrero",
    label: "Febrero",
    href: "#promociones-febrero",
    icon: "clock" as const,
  },
  {
    id: "permanentes",
    label: "Siempre",
    href: "#promociones-permanentes",
    icon: "tag" as const,
  },
  {
    id: "faq",
    label: "FAQ",
    href: "#faq",
    icon: "grid" as const,
  },
  {
    id: "inscribirse",
    label: "Inscr√≠bete",
    href: "/contacto",
    icon: "star" as const,
  },
];
---

<Layout
  title="Promociones y Ofertas | Gym Trasciende - Descuentos Especiales Ocotl√°n"
  description="Aprovecha nuestras promociones en Trasciende Gym Ocotl√°n. Inscripci√≥n gratis todo el a√±o y reto de febrero con 10% en tu pr√≥xima mensualidad al imitar nuestras fotos y etiquetarnos."
  keywords="promociones gym, descuentos gimnasio ocotl√°n, ofertas gym 2026, promo febrero gym, reto fotos gym, inscripci√≥n gratis gym"
  type="website"
>
  <!-- 1. Hero Promo Febrero -->
  <HeroClipped
    img="/imagenfondo5.webp"
    alt="Promociones especiales Trasciende Gym"
    minHeight="min-h-screen"
    overlayOpacity="70"
  >
    <div class="mx-auto w-full max-w-7xl px-4">
      <div class="flex w-full flex-col gap-8">
        {/* Badge minimalista con animaci√≥n */}
        <div class="inline-flex items-center gap-2">
          <div class="bg-primary h-px w-12 animate-pulse"></div>
          <span
            class="text-primary animate-pulse text-sm font-semibold tracking-widest uppercase"
          >
            üî• Reto de Febrero 2026
          </span>
        </div>

        {/* T√≠tulo */}
        <h1
          class="text-secondary text-5xl leading-tight font-bold tracking-wide md:text-7xl lg:text-8xl"
        >
          Promociones Todo el A√±o
        </h1>

        {/* Subt√≠tulo */}
        <p
          class="text-secondary text-semibold max-w-2xl text-lg leading-relaxed md:text-xl"
        >
          Inscripci√≥n gratis siempre + Promociones especiales de febrero. ¬°No
          dejes pasar estas ofertas!
        </p>

        {/* CTAs con estilo consistente */}
        <div class="flex flex-col gap-4 sm:flex-row sm:gap-6">
          <a
            href="#promociones-febrero"
            class="group border-primary text-primary hover:bg-primary/50 inline-flex items-center justify-center gap-2 rounded-lg border-2 px-5 py-2.5 font-bold transition-all duration-300 hover:scale-105 active:scale-95"
          >
            <span class="text-base font-semibold">Ver Promociones</span>
            <ButtonAnimation
              width={24}
              height={24}
              class="transition-transform group-hover:scale-110"
            />
          </a>

          <a
            href="/contacto"
            class="group border-secondary text-secondary hover:bg-secondary/50 inline-flex items-center justify-center gap-2 rounded-lg border-2 px-5 py-2.5 font-bold transition-all duration-300 hover:scale-105 active:scale-95"
          >
            <span class="text-base font-semibold">Inscribirme ahora</span>
            <ArrowAnimation class="size-5" />
          </a>
        </div>
      </div>
    </div>
  </HeroClipped>

  <!-- 2. Promoci√≥n Temporal de Febrero -->
  <SectionContainer class="py-16 md:py-24">
    <div id="promociones-febrero">
      <Subtitle
        class="bg-linear-to-r from-pink-500 to-fuchsia-500 bg-clip-text text-transparent"
        lineClass="bg-linear-to-r from-pink-500 to-fuchsia-500"
      >
        Reto de Febrero: Imita y Gana 10%
      </Subtitle>

      <div class="mt-8 flex justify-center">
        <div
          class="rounded-xl border border-pink-500/20 bg-gray-900/50 p-6 backdrop-blur-sm"
        >
          <p
            class="mb-4 bg-linear-to-r from-pink-100 to-fuchsia-500 bg-clip-text text-center text-sm font-semibold tracking-wide text-transparent uppercase"
          >
            ‚è∞ Tiempo restante del reto:
          </p>
          <CountdownTimer client:load />
        </div>
      </div>

      <p
        class="text-secondary mx-auto mb-12 max-w-3xl text-center text-lg leading-relaxed"
      >
        ¬øSe animan? Imita una de las 3 fotos oficiales, publ√≠cala y etiqueta a
        @trasciendegym. T√∫ y tu acompa√±ante reciben 10% en su pr√≥xima
        mensualidad.
      </p>

      <div
        class="mx-auto mb-12 max-w-4xl rounded-2xl border border-pink-500/20 bg-gray-900/50 p-6 text-left backdrop-blur-sm"
      >
        <h3 class="mb-4 text-center text-xl font-bold text-white">
          Solo tienes que‚Ä¶
        </h3>
        <ol class="text-secondary space-y-3">
          <li class="flex gap-3">
            <span class="text-primary font-bold">1.</span>
            <span>Imitar al menos 1 de las tres fotos.</span>
          </li>
          <li class="flex gap-3">
            <span class="text-primary font-bold">2.</span>
            <span>Tomar la o las fotograf√≠as en nuestras instalaciones üì∏.</span
            >
          </li>
          <li class="flex gap-3">
            <span class="text-primary font-bold">3.</span>
            <span>Subirla como publicaci√≥n y etiquetar a Trasciende Gym.</span>
          </li>
          <li class="flex gap-3">
            <span class="text-primary font-bold">4.</span>
            <span>Mostrarla en recepci√≥n üôçüèª‚Äç‚ôÄÔ∏è.</span>
          </li>
          <li class="flex gap-3">
            <span class="text-primary font-bold">5.</span>
            <span>
              Hacemos v√°lida tu promoci√≥n y obtienen 10% de descuento en su
              pr√≥xima mensualidad para ti y tu amigx, novix, esposx o pareja.
            </span>
          </li>
        </ol>
        <p class="text-secondary mt-6 text-center text-sm">
          Te prometo que te vas a divertir much√≠simo ü§≠
        </p>
        <p class="mt-2 text-center text-sm font-semibold text-white">
          V√°lido para publicar hasta el 14 de febrero a las 12:00 a.m. ‚ô•Ô∏è
        </p>
      </div>

      <div class="mx-auto grid max-w-6xl gap-8 md:grid-cols-3">
        {
          promosFebrero.map((promo) => (
            <div class="group relative flex flex-col overflow-hidden rounded-2xl border-2 border-pink-500/30 bg-gray-900/50 backdrop-blur-sm transition-all duration-300 hover:scale-[1.02] hover:border-pink-500/60 hover:shadow-2xl hover:shadow-pink-500/20">
              {/* Badge */}
              <div class="absolute top-4 right-4 z-10 rounded-full bg-linear-to-r from-pink-500 to-fuchsia-500 px-3 py-1 shadow-lg">
                <span class="text-xs font-bold text-white uppercase">
                  {promo.badge}
                </span>
              </div>

              <div class="p-8">
                {/* Imagen */}
                <button
                  type="button"
                  class="mb-5 overflow-hidden rounded-xl border border-white/10 transition-transform duration-300 hover:scale-[1.01]"
                  data-gallery-trigger
                  data-image-index={promo.id - 1}
                  aria-label={`Ver ${promo.title} en grande`}
                >
                  <img
                    src={promo.image}
                    alt={promo.title}
                    class="h-56 w-full object-cover [filter:saturate(1.25)_contrast(1.1)_brightness(1.05)] transition-transform duration-500 group-hover:scale-105"
                    loading="lazy"
                  />
                </button>

                {/* T√≠tulo */}
                <h3 class="mb-3 text-2xl font-bold text-white">
                  {promo.title}
                </h3>
                <p class="text-secondary mb-8 text-sm leading-relaxed">
                  {promo.description}
                </p>

                {/* CTA */}
                <a
                  href="/contacto"
                  class="block w-full rounded-lg border-2 border-pink-500 bg-pink-500/10 px-6 py-3 text-center font-bold text-white transition-all duration-300 hover:bg-pink-500 hover:text-black hover:shadow-lg hover:shadow-pink-500/50"
                >
                  Participar en el Reto
                </a>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </SectionContainer>

  <!-- 3. Promociones Permanentes -->
  <SectionContainer class="py-16 md:py-24">
    <div id="promociones-permanentes">
      <Subtitle>Disponibles Todo el A√±o</Subtitle>

      <p
        class="text-secondary mx-auto mb-12 max-w-3xl text-center text-lg leading-relaxed"
      >
        Sin fechas l√≠mite, sin trucos. Estas promociones siempre est√°n
        disponibles.
      </p>

      <div class="mx-auto grid max-w-6xl gap-8 md:grid-cols-2 lg:max-w-4xl">
        {
          promosPermanentes.map((promo) => (
            <div class="group relative flex flex-col overflow-hidden rounded-2xl border-2 border-emerald-500/30 bg-gray-900/50 backdrop-blur-sm transition-all duration-300 hover:scale-[1.02] hover:border-emerald-500/60 hover:shadow-2xl hover:shadow-emerald-500/20">
              {/* Badge */}
              <div class="absolute top-4 right-4 z-10 rounded-full bg-linear-to-r from-emerald-500 to-teal-500 px-3 py-1 shadow-lg">
                <span class="text-xs font-bold text-white uppercase">
                  {promo.badge}
                </span>
              </div>

              <div class="p-8 text-center">
                {/* Icono */}
                <div class="mb-4 text-7xl transition-transform duration-300 group-hover:scale-110">
                  {promo.icon}
                </div>

                {/* T√≠tulo */}
                <h3 class="mb-2 text-3xl font-bold text-white">
                  {promo.title}
                </h3>

                {/* Precios */}
                <div class="mb-6">
                  <div class="flex items-baseline justify-center gap-2" />
                  <span class="text-secondary mt-2 block text-lg">
                    {promo.priceDetail}
                  </span>
                </div>

                {/* Features */}
                <ul class="mb-8 space-y-3">
                  {promo.features.map((feature) => (
                    <li class="flex items-center justify-center gap-2">
                      <svg
                        class="text-primary h-5 w-5 shrink-0 transition-colors group-hover:text-emerald-400"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                          clip-rule="evenodd"
                        />
                      </svg>
                      <span class="text-secondary text-sm font-medium">
                        {feature}
                      </span>
                    </li>
                  ))}
                </ul>

                {/* CTA */}
                <a
                  href="/contacto"
                  class="block w-full rounded-lg border-2 border-emerald-500 bg-emerald-500/10 px-6 py-3 text-center font-bold text-white transition-all duration-300 hover:bg-emerald-500 hover:text-black hover:shadow-lg hover:shadow-emerald-500/50"
                >
                  Inscribirme Ahora
                </a>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </SectionContainer>

  <!-- 4. C√≥mo Aprovechar -->
  <SectionContainer
    backgroundImage="linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('/fondofijo.webp')"
    fixedBackground={true}
    class="py-16 md:py-20"
  >
    <Subtitle>¬øC√≥mo Ganar el 10% de Febrero?</Subtitle>

    <div class="mx-auto max-w-5xl">
      <div class="grid gap-8 md:grid-cols-3">
        {
          steps.map((step) => (
            <div class="group text-center transition-transform duration-300 hover:-translate-y-2">
              <div class="bg-primary mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl group-hover:shadow-emerald-500/50">
                <span class="text-3xl font-bold text-black">{step.number}</span>
              </div>
              <h3 class="mb-3 text-xl font-bold text-white">{step.title}</h3>
              <p class="text-secondary leading-relaxed">{step.description}</p>
            </div>
          ))
        }
      </div>
    </div>
  </SectionContainer>

  <!-- 5. FAQ -->
  <div id="faq">
    <FAQ items={faqItems} />
  </div>

  <!-- 6. CTA Final Urgente -->
  <SectionContainer class="py-16 md:py-20">
    <div
      class="mx-auto max-w-4xl rounded-2xl border-2 border-pink-500/30 bg-linear-to-br from-gray-900/80 to-pink-900/20 p-8 text-center shadow-xl backdrop-blur-sm md:p-12"
    >
      <div
        class="mb-4 inline-block rounded-full bg-linear-to-r from-pink-500 to-fuchsia-500 px-6 py-2 shadow-lg"
      >
        <span class="text-sm font-bold tracking-wide text-white uppercase">
          üì∏ ¬°Reto de Febrero Activo!
        </span>
      </div>

      <h2 class="text-secondary mb-4 text-3xl font-bold md:text-4xl">
        No Dejes Pasar Esta Oportunidad
      </h2>

      <p class="text-secondary mb-8 text-lg leading-relaxed">
        Imita una de las 3 fotos oficiales en pareja y etiqueta a Trasciende
        Gym. Ambos reciben 10% de descuento en su pr√≥xima mensualidad.
      </p>

      <div class="flex flex-col items-center justify-center gap-4 sm:flex-row">
        <a
          href="/contacto"
          class="inline-flex w-full items-center justify-center gap-2 rounded-lg bg-emerald-500 px-8 py-4 text-lg font-bold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:bg-emerald-400 hover:shadow-xl hover:shadow-emerald-500/50 sm:w-auto"
        >
          Inscribirme Ahora
        </a>
        <a
          href="/reviews"
          class="inline-flex w-full items-center justify-center gap-2 rounded-lg border-2 border-emerald-500 px-8 py-4 text-lg font-bold text-white transition-all duration-300 hover:scale-105 hover:bg-emerald-500/10 sm:w-auto"
        >
          Lo que dicen de nosotros
        </a>
      </div>

      <p class="text-secondary mt-6 text-sm">
        üíö Inscripci√≥n gratis todo el a√±o ‚Ä¢ Reto v√°lido durante febrero 2026
      </p>
    </div>
  </SectionContainer>

  <GalleryLightbox
    client:idle
    images={febreroGalleryImages}
    imageClassName="[filter:saturate(1.25)_contrast(1.1)_brightness(1.05)]"
  />

  {/* Navegaci√≥n m√≥vil inferior */}
  <MobileBottomNav
    client:load
    items={mobileNavItems}
    hideOnScroll={false}
    vibration={true}
  />
</Layout>
