---
export interface Props {
  width?: string | number;
  height?: string | number;
  class?: string;
}
const { width = 100, height = 100, class: className = "" } = Astro.props;
---

<svg
  width={width}
  height={height}
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
>
  <style>
    .bar,
    .disc {
      fill: #d5fb00;
    }

    /* Animación de la barra: aparece rápido y se mantiene */
    @keyframes barPulse {
      0%,
      5% {
        opacity: 0;
        transform: scaleX(0);
      }
      15%,
      85% {
        opacity: 1;
        transform: scaleX(1);
      }
      95%,
      100% {
        opacity: 0;
        transform: scaleX(0);
      }
    }

    /* Disco izquierdo: entra y sale con poco descanso */
    @keyframes discLeft {
      0%,
      10% {
        transform: translateX(-35px);
        opacity: 0;
      }
      25%,
      75% {
        transform: translateX(0);
        opacity: 1;
      }
      90%,
      100% {
        transform: translateX(-35px);
        opacity: 0;
      }
    }

    /* Disco derecho: entra y sale con poco descanso */
    @keyframes discRight {
      0%,
      10% {
        transform: translateX(35px);
        opacity: 0;
      }
      25%,
      75% {
        transform: translateX(0);
        opacity: 1;
      }
      90%,
      100% {
        transform: translateX(35px);
        opacity: 0;
      }
    }

    /* Impacto seco y rápido */
    @keyframes shake {
      24% {
        transform: translate(0, 0);
      }
      25% {
        transform: translate(-2px, 0);
      }
      27% {
        transform: translate(2px, 0);
      }
      29% {
        transform: translate(0, 0);
      }
    }

    .bar-group {
      animation: barPulse 2.2s infinite ease-in-out;
      transform-origin: center;
    }
    .left {
      animation: discLeft 2.2s infinite cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .right {
      animation: discRight 2.2s infinite cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .container {
      animation: shake 2.2s infinite;
      transform-origin: center;
    }
  </style>

  <g class="container">
    <g class="bar-group">
      <rect x="25" y="46" width="50" height="8" rx="2" class="bar"></rect>
    </g>

    <g class="left">
      <rect x="25" y="35" width="8" height="30" rx="2" class="disc"></rect>
      <rect
        x="17"
        y="38"
        width="5"
        height="24"
        rx="2"
        class="disc"
        opacity="0.6"></rect>
    </g>

    <g class="right">
      <rect x="67" y="35" width="8" height="30" rx="2" class="disc"></rect>
      <rect
        x="78"
        y="38"
        width="5"
        height="24"
        rx="2"
        class="disc"
        opacity="0.6"></rect>
    </g>
  </g>
</svg>
