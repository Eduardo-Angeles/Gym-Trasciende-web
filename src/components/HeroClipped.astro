---
/**
 * HeroClipped - Hero con clip-path en V y efecto de relleno en espacios del corte
 *
 * EJEMPLO DE USO:
 *
 * <HeroClipped
 *   backgroundImage="linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.75)), url('/fondofijo.webp')"
 *   fixedBackground={true}
 *   minHeight="min-h-[60vh]"
 * >
 *   <Subtitle>Tu Título</Subtitle>
 *   <p>Tu contenido aquí...</p>
 * </HeroClipped>
 */

interface Props {
  backgroundImage: string;
  fixedBackground?: boolean;
  minHeight?: string;
  class?: string;
}

const {
  backgroundImage,
  fixedBackground = false,
  minHeight = "min-h-[60vh]",
  class: className = "",
} = Astro.props;
---

<div class="relative bg-black">
  <!-- Fondo que rellena los espacios del clip-path -->
  <div
    class="absolute inset-0 scale-110 bg-cover bg-center bg-no-repeat"
    style={{
      backgroundImage,
      backgroundAttachment: fixedBackground ? "fixed" : "scroll",
      filter: "blur(25px) brightness(0.3)",
      zIndex: 0,
    }}
  >
  </div>

  <!-- Sección principal con clip-path (por encima del fondo) -->
  <div
    class={`relative cp-v bg-cover bg-center bg-no-repeat ${minHeight} ${className}`}
    style={{
      backgroundImage,
      backgroundAttachment: fixedBackground ? "fixed" : "scroll",
      zIndex: 1,
    }}
  >
    <section class="mx-auto w-full max-w-7xl">
      <div class="mx-auto w-full px-4 py-20 md:py-24">
        <slot />
      </div>
    </section>
  </div>
</div>
